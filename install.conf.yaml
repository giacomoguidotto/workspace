# dotbot config file
# 20250723 v0.1

# to update dotbot run:
# `git submodule update --remote dotbot`
# commit and run `./install` again
# docs: https://github.com/anishathalye/dotbot?tab=readme-ov-file#configuration

- defaults:
    link:
      relink: true # removes the old link if it's a symlink

- clean: ["~"] # remove dead symlinks

- link:
    ~/.config:
      force: true
      glob: true
      path: cfg/xdg/*

    ~/.zshrc:
      force: true
      path: cfg/.zshrc
    ~/.zshenv:
      force: true
      path: cfg/.zshenv
    ~/.hushlogin:
      force: true
      path: cfg/.hushlogin
    ~/.ssh/config:
      force: true
      path: cfg/.ssh/config
    ~/.claude/settings.json:
      force: true
      path: cfg/.claude/settings.json
    ~/.claude/skills:
      create: true
      force: true
      glob: true
      path: cfg/.claude/skills/*

    ~/Library/Application Support/Cursor/User/settings.json:
      if: "[ `uname` = Darwin ]"
      force: true
      path: cfg/apps/cursor/settings.json

    ~/Library/Application Support/Cursor/User/keybindings.json:
      if: "[ `uname` = Darwin ]"
      force: true
      path: cfg/apps/cursor/keybindings.json

    ~/.config/nix-darwin:
      if: '[ -z "${TERMUX_VERSION-}" ]'
      force: true
      path: nix

- shell:
    - command: swc
      description: installing workspace dependencies...
      stdin: true
      stdout: true
      stderr: true
